{"version":3,"file":"src_components_Paging_jsx.main.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAmD;AAChB;AAEnC,IAAMI,SAAS,GAAG,MAAM;AACxB,IAAMC,UAAU,GAAG,OAAO;AAE1B,IAAMC,KAAK,GAAG,SAAAA,MAACC,IAAI,EAAEC,EAAE,EAAe;EAAA,IAAbC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAC/B,IAAIG,CAAC,GAAGN,IAAI;EACZ,IAAMD,KAAK,GAAG,EAAE;EAEhB,OAAOO,CAAC,IAAIL,EAAE,EAAE;IACdF,KAAK,CAACQ,IAAI,CAACD,CAAC,CAAC;IACbA,CAAC,IAAIJ,IAAI;EACX;EAEA,OAAOH,KAAK;AACd,CAAC;AAED,IAAMS,MAAM,GAAG,SAATA,MAAMA,CAAIC,KAAK,EAAK;EACxB,IAAAC,mBAAA,GAOID,KAAK,CANPE,YAAY;IAAZA,YAAY,GAAAD,mBAAA,cAAG,IAAI,GAAAA,mBAAA;IAAAE,gBAAA,GAMjBH,KAAK,CALPI,SAAS;IAATA,SAAS,GAAAD,gBAAA,cAAG,EAAE,GAAAA,gBAAA;IAAAE,qBAAA,GAKZL,KAAK,CAJPM,cAAc;IAAdA,cAAc,GAAAD,qBAAA,cAAG,CAAC,GAAAA,qBAAA;IAAAE,aAAA,GAIhBP,KAAK,CAHPQ,MAAM;IAANA,MAAM,GAAAD,aAAA,cAAG,EAAE,GAAAA,aAAA;IAAAE,gBAAA,GAGTT,KAAK,CAFPU,SAAS;IAATA,SAAS,GAAAD,gBAAA,cAAG,EAAE,GAAAA,gBAAA;IAAAE,oBAAA,GAEZX,KAAK,CADPY,aAAa;IAAbA,aAAa,GAAAD,oBAAA,cAAG,YAAM,CAAC,CAAC,GAAAA,oBAAA;EAG1B,IAAAE,SAAA,GAAsC3B,+CAAQ,CAAC,CAAC,CAAC;IAAA4B,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,WAAW,GAAAF,UAAA;IAAEG,cAAc,GAAAH,UAAA;EAElC,IAAMI,UAAU,GAAGC,IAAI,CAACC,IAAI,CAAClB,YAAY,GAAGE,SAAS,CAAC;EAEtDnB,gDAAS,CAAC,YAAM;IACdoC,QAAQ,CAAC,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMA,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,IAAI,EAAK;IACzB,IAAMC,SAAS,GAAGJ,IAAI,CAACK,GAAG,CAAC,CAAC,EAAEL,IAAI,CAACM,GAAG,CAACH,IAAI,EAAEJ,UAAU,CAAC,CAAC;IACzDD,cAAc,CAACM,SAAS,CAAC;IACzBX,aAAa,CAAC;MACZI,WAAW,EAAEO,SAAS;MACtBL,UAAU,EAAVA,UAAU;MACVd,SAAS,EAATA,SAAS;MACTF,YAAY,EAAZA;IACF,CAAC,CAAC;EACJ,CAAC;EAED,IAAMwB,WAAW,GAAG,SAAdA,WAAWA,CAAIJ,IAAI,EAAEK,GAAG,EAAK;IACjCA,GAAG,CAACC,cAAc,CAAC,CAAC;IACpBP,QAAQ,CAACC,IAAI,CAAC;EAChB,CAAC;EAED,IAAMO,cAAc,GAAG,SAAjBA,cAAcA,CAAIF,GAAG,EAAK;IAC9BA,GAAG,CAACC,cAAc,CAAC,CAAC;IACpBP,QAAQ,CAACL,WAAW,GAAGV,cAAc,GAAG,CAAC,GAAG,CAAC,CAAC;EAChD,CAAC;EAED,IAAMwB,eAAe,GAAG,SAAlBA,eAAeA,CAAIH,GAAG,EAAK;IAC/BA,GAAG,CAACC,cAAc,CAAC,CAAC;IACpBP,QAAQ,CAACL,WAAW,GAAGV,cAAc,GAAG,CAAC,GAAG,CAAC,CAAC;EAChD,CAAC;EAED,IAAMyB,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;IAC7B,IAAMC,YAAY,GAAG1B,cAAc,GAAG,CAAC,GAAG,CAAC;IAC3C,IAAM2B,WAAW,GAAGD,YAAY,GAAG,CAAC;IAEpC,IAAId,UAAU,GAAGe,WAAW,EAAE;MAC5B,IAAIC,MAAK,GAAG,EAAE;MAEd,IAAMC,SAAS,GAAGnB,WAAW,GAAGV,cAAc;MAC9C,IAAM8B,UAAU,GAAGpB,WAAW,GAAGV,cAAc;MAC/C,IAAM+B,cAAc,GAAGnB,UAAU,GAAG,CAAC;MAErC,IAAMoB,SAAS,GAAGH,SAAS,GAAG,CAAC,GAAGA,SAAS,GAAG,CAAC;MAC/C,IAAMI,OAAO,GAAGH,UAAU,GAAGC,cAAc,GAAGD,UAAU,GAAGC,cAAc;MAEzEH,MAAK,GAAG5C,KAAK,CAACgD,SAAS,EAAEC,OAAO,CAAC;MAEjC,IAAMC,UAAU,GAAGN,MAAK,CAACvC,MAAM;MAC/B,IAAM8C,iBAAiB,GAAGT,YAAY,GAAGQ,UAAU,GAAG,CAAC;MAEvD,IAAME,SAAS,GAAGJ,SAAS,GAAG,CAAC;MAC/B,IAAMK,UAAU,GAAGJ,OAAO,GAAGF,cAAc;MAE3C,IAAMO,aAAa,GAAGxD,SAAS;MAC/B,IAAMyD,cAAc,GAAGxD,UAAU;MAEjC,IAAIqD,SAAS,IAAI,CAACC,UAAU,EAAE;QAC5B,IAAMG,UAAU,GAAGxD,KAAK,CAACgD,SAAS,GAAGG,iBAAiB,EAAEH,SAAS,GAAG,CAAC,CAAC;QACtEJ,MAAK,IAAIU,aAAa,EAAAG,MAAA,CAAAC,kBAAA,CAAKF,UAAU,GAAAE,kBAAA,CAAKd,MAAK,EAAC;MAClD,CAAC,MAAM,IAAI,CAACQ,SAAS,IAAIC,UAAU,EAAE;QACnC,IAAMG,WAAU,GAAGxD,KAAK,CAACiD,OAAO,GAAG,CAAC,EAAEA,OAAO,GAAGE,iBAAiB,CAAC;QAClEP,MAAK,MAAAa,MAAA,CAAAC,kBAAA,CAAOd,MAAK,GAAAc,kBAAA,CAAKF,WAAU,IAAED,cAAc,EAAC;MACnD,CAAC,MAAM,IAAIH,SAAS,IAAIC,UAAU,EAAE;QAClCT,MAAK,IAAIU,aAAa,EAAAG,MAAA,CAAAC,kBAAA,CAAKd,MAAK,IAAEW,cAAc,EAAC;MACnD;MAEA,QAAQ,CAAC,EAAAE,MAAA,CAAAC,kBAAA,CAAKd,MAAK,IAAEhB,UAAU;IACjC;IAEA,OAAO5B,KAAK,CAAC,CAAC,EAAE4B,UAAU,CAAC;EAC7B,CAAC;EAED,IAAI,CAAChB,YAAY,IAAIgB,UAAU,KAAK,CAAC,EAAE,OAAO,IAAI;EAElD,IAAMgB,KAAK,GAAGH,gBAAgB,CAAC,CAAC;EAEhC,oBACI/C,0DAAA;IAAK,cAAW;EAAiB,gBAC/BA,0DAAA;IAAIkE,SAAS,gBAAAH,MAAA,CAAgBvC,MAAM,OAAAuC,MAAA,CAAIrC,SAAS;EAAG,GAChDwB,KAAK,CAACiB,GAAG,CAAC,UAAC7B,IAAI,EAAE8B,KAAK,EAAK;IAC1B,IAAI9B,IAAI,KAAKlC,SAAS,EACpB,oBACIJ,0DAAA;MAAIqE,GAAG,EAAED,KAAM;MAACF,SAAS,EAAC;IAAW,gBACnClE,0DAAA;MACIkE,SAAS,EAAC,WAAW;MACrB,cAAW,UAAU;MACrBI,OAAO,EAAEzB;IAAe,gBAE1B7C,0DAAA;MAAM,eAAY;IAAM,GAAC,MAAa,CAAC,eACvCA,0DAAA;MAAMkE,SAAS,EAAC;IAAS,GAAC,UAAc,CAClC,CACN,CAAC;IAGX,IAAI5B,IAAI,KAAKjC,UAAU,EACrB,oBACIL,0DAAA;MAAIqE,GAAG,EAAED,KAAM;MAACF,SAAS,EAAC;IAAW,gBACnClE,0DAAA;MACIkE,SAAS,EAAC,WAAW;MACrBK,IAAI,EAAC,IAAI;MACT,cAAW,MAAM;MACjBD,OAAO,EAAExB;IAAgB,gBAE3B9C,0DAAA;MAAM,eAAY;IAAM,GAAC,MAAa,CAAC,eACvCA,0DAAA;MAAMkE,SAAS,EAAC;IAAS,GAAC,MAAU,CACnC,CACD,CAAC;IAGX,oBACIlE,0DAAA;MACIqE,GAAG,EAAED,KAAM;MACXF,SAAS,cAAAH,MAAA,CAAc/B,WAAW,KAAKM,IAAI,GAAG,SAAS,GAAG,EAAE;IAAG,gBAEjEtC,0DAAA;MACIkE,SAAS,EAAC,WAAW;MACrBK,IAAI,EAAC,IAAI;MACTD,OAAO,EAAE,SAAAA,QAACE,CAAC;QAAA,OAAK9B,WAAW,CAACJ,IAAI,EAAEkC,CAAC,CAAC;MAAA;IAAC,GAEtClC,IACA,CACD,CAAC;EAEX,CAAC,CACC,CACD,CAAC;AAEZ,CAAC;AAEDvB,MAAM,CAAC0D,SAAS,GAAG;EACjBvD,YAAY,EAAEf,0DAAgB,CAACwE,UAAU;EACzCvD,SAAS,EAAEjB,0DAAgB;EAC3BmB,cAAc,EAAEnB,0DAAgB;EAChCyB,aAAa,EAAEzB,wDAAc;EAC7BqB,MAAM,EAAErB,0DAAgB0E;AAC1B,CAAC;AAED,4EAAe7E,iDAAU,CAACe,MAAM,CAAC","sources":["webpack://reactfront/./src/components/Paging.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst LEFT_PAGE = \"LEFT\";\r\nconst RIGHT_PAGE = \"RIGHT\";\r\n\r\nconst range = (from, to, step = 1) => {\r\n  let i = from;\r\n  const range = [];\r\n\r\n  while (i <= to) {\r\n    range.push(i);\r\n    i += step;\r\n  }\r\n\r\n  return range;\r\n};\r\n\r\nconst Paging = (props) => {\r\n  const {\r\n    totalRecords = null,\r\n    pageLimit = 30,\r\n    pageNeighbours = 0,\r\n    sizing = \"\",\r\n    alignment = \"\",\r\n    onPageChanged = () => {},\r\n  } = props;\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const totalPages = Math.ceil(totalRecords / pageLimit);\r\n\r\n  useEffect(() => {\r\n    gotoPage(1);\r\n  }, []);\r\n\r\n  const gotoPage = (page) => {\r\n    const validPage = Math.max(1, Math.min(page, totalPages));\r\n    setCurrentPage(validPage);\r\n    onPageChanged({\r\n      currentPage: validPage,\r\n      totalPages,\r\n      pageLimit,\r\n      totalRecords,\r\n    });\r\n  };\r\n\r\n  const handleClick = (page, evt) => {\r\n    evt.preventDefault();\r\n    gotoPage(page);\r\n  };\r\n\r\n  const handleMoveLeft = (evt) => {\r\n    evt.preventDefault();\r\n    gotoPage(currentPage - pageNeighbours * 2 - 1);\r\n  };\r\n\r\n  const handleMoveRight = (evt) => {\r\n    evt.preventDefault();\r\n    gotoPage(currentPage + pageNeighbours * 2 + 1);\r\n  };\r\n\r\n  const fetchPageNumbers = () => {\r\n    const totalNumbers = pageNeighbours * 2 + 3;\r\n    const totalBlocks = totalNumbers + 2;\r\n\r\n    if (totalPages > totalBlocks) {\r\n      let pages = [];\r\n\r\n      const leftBound = currentPage - pageNeighbours;\r\n      const rightBound = currentPage + pageNeighbours;\r\n      const beforeLastPage = totalPages - 1;\r\n\r\n      const startPage = leftBound > 2 ? leftBound : 2;\r\n      const endPage = rightBound < beforeLastPage ? rightBound : beforeLastPage;\r\n\r\n      pages = range(startPage, endPage);\r\n\r\n      const pagesCount = pages.length;\r\n      const singleSpillOffset = totalNumbers - pagesCount - 1;\r\n\r\n      const leftSpill = startPage > 2;\r\n      const rightSpill = endPage < beforeLastPage;\r\n\r\n      const leftSpillPage = LEFT_PAGE;\r\n      const rightSpillPage = RIGHT_PAGE;\r\n\r\n      if (leftSpill && !rightSpill) {\r\n        const extraPages = range(startPage - singleSpillOffset, startPage - 1);\r\n        pages = [leftSpillPage, ...extraPages, ...pages];\r\n      } else if (!leftSpill && rightSpill) {\r\n        const extraPages = range(endPage + 1, endPage + singleSpillOffset);\r\n        pages = [...pages, ...extraPages, rightSpillPage];\r\n      } else if (leftSpill && rightSpill) {\r\n        pages = [leftSpillPage, ...pages, rightSpillPage];\r\n      }\r\n\r\n      return [1, ...pages, totalPages];\r\n    }\r\n\r\n    return range(1, totalPages);\r\n  };\r\n\r\n  if (!totalRecords || totalPages === 1) return null;\r\n\r\n  const pages = fetchPageNumbers();\r\n\r\n  return (\r\n      <nav aria-label=\"Page navigation\">\r\n        <ul className={`pagination ${sizing} ${alignment}`}>\r\n          {pages.map((page, index) => {\r\n            if (page === LEFT_PAGE)\r\n              return (\r\n                  <li key={index} className=\"page-item\">\r\n                    <button\r\n                        className=\"page-link\"\r\n                        aria-label=\"Previous\"\r\n                        onClick={handleMoveLeft}\r\n                    >\r\n                      <span aria-hidden=\"true\">&laquo;</span>\r\n                      <span className=\"sr-only\">Previous</span>\r\n                    </button>\r\n                  </li>\r\n              );\r\n\r\n            if (page === RIGHT_PAGE)\r\n              return (\r\n                  <li key={index} className=\"page-item\">\r\n                    <a\r\n                        className=\"page-link\"\r\n                        href=\"#!\"\r\n                        aria-label=\"Next\"\r\n                        onClick={handleMoveRight}\r\n                    >\r\n                      <span aria-hidden=\"true\">&raquo;</span>\r\n                      <span className=\"sr-only\">Next</span>\r\n                    </a>\r\n                  </li>\r\n              );\r\n\r\n            return (\r\n                <li\r\n                    key={index}\r\n                    className={`page-item${currentPage === page ? \" active\" : \"\"}`}\r\n                >\r\n                  <a\r\n                      className=\"page-link\"\r\n                      href=\"#!\"\r\n                      onClick={(e) => handleClick(page, e)}\r\n                  >\r\n                    {page}\r\n                  </a>\r\n                </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </nav>\r\n  );\r\n};\r\n\r\nPaging.propTypes = {\r\n  totalRecords: PropTypes.number.isRequired,\r\n  pageLimit: PropTypes.number,\r\n  pageNeighbours: PropTypes.number,\r\n  onPageChanged: PropTypes.func,\r\n  sizing: PropTypes.string,\r\n};\r\n\r\nexport default React.memo(Paging);\r\n"],"names":["React","useEffect","useState","PropTypes","LEFT_PAGE","RIGHT_PAGE","range","from","to","step","arguments","length","undefined","i","push","Paging","props","_props$totalRecords","totalRecords","_props$pageLimit","pageLimit","_props$pageNeighbours","pageNeighbours","_props$sizing","sizing","_props$alignment","alignment","_props$onPageChanged","onPageChanged","_useState","_useState2","_slicedToArray","currentPage","setCurrentPage","totalPages","Math","ceil","gotoPage","page","validPage","max","min","handleClick","evt","preventDefault","handleMoveLeft","handleMoveRight","fetchPageNumbers","totalNumbers","totalBlocks","pages","leftBound","rightBound","beforeLastPage","startPage","endPage","pagesCount","singleSpillOffset","leftSpill","rightSpill","leftSpillPage","rightSpillPage","extraPages","concat","_toConsumableArray","createElement","className","map","index","key","onClick","href","e","propTypes","number","isRequired","func","string","memo"],"sourceRoot":""}