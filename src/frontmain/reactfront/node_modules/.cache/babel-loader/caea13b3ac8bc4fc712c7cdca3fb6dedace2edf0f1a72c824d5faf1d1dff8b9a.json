{"ast":null,"code":"import _regeneratorRuntime from\"C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{Container,Card}from'react-bootstrap';import{useNavigate}from'react-router-dom';import axios from'../Request/RequestConfig.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Detail(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),loginError=_useState2[0],setLoginError=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];var navigate=useNavigate();var handleGoBack=function handleGoBack(){navigate(-1);// 뒤로가기 버튼을 누를 때 이전 페이지로 이동\n};// 게시글 ID를 URL 파라미터로부터 추출합니다.\nvar _useParams=useParams(),id=_useParams.id;var fetchPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var accessToken,refreshToken,response,postData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;accessToken=localStorage.getItem('accessToken');refreshToken=localStorage.getItem('refreshToken');console.log(accessToken);console.log(refreshToken);if(!(accessToken&&refreshToken)){_context.next=21;break;}_context.next=8;return axios.get(\"/auth/shop/\".concat(id),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(accessToken),'RefreshToken':\"Bearer \".concat(refreshToken)}});case 8:response=_context.sent;if(!(response.status==200)){_context.next=18;break;}_context.next=12;return response.data;case 12:postData=_context.sent;console.log(postData.data);setTitle(postData.data.title);setContent(postData.data.content);_context.next=19;break;case 18:console.error('게시글을 가져오는데 실패했습니다.');case 19:_context.next=22;break;case 21:setLoginError('인증되지않은 유저는 접근할 수 없습니다.');// 로그인되지 않은 경우 처리\ncase 22:_context.next=28;break;case 24:_context.prev=24;_context.t0=_context[\"catch\"](0);console.error('인증되지 않은 사용자가 접근하려 합니다..',_context.t0);setLoginError('인증된 유저만 접근 가능합니다.');case 28:case\"end\":return _context.stop();}},_callee,null,[[0,24]]);}));return function fetchPost(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchPost();// 컴포넌트가 마운트될 때(fetchPost()의 의존성 배열이 빈 배열) fetchPost 함수를 호출합니다.\n},[]);return/*#__PURE__*/_jsx(\"div\",{style:{height:'100vh',marginTop:'50px'},children:/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleGoBack,style:{position:'absolute',left:'10px',top:'70px'},children:\"\\uB4A4\\uB85C\\uAC00\\uAE30\"}),/*#__PURE__*/_jsxs(Card,{border:\"primary\",children:[/*#__PURE__*/_jsx(Card.Header,{style:{height:'calc(8vh - 10px)',fontSize:'30px'},children:title}),/*#__PURE__*/_jsx(Card.Body,{style:{height:'calc(100vh - 50px)'},children:/*#__PURE__*/_jsx(Card.Text,{dangerouslySetInnerHTML:{__html:content}})})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","useParams","Container","Card","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Detail","_useState","_useState2","_slicedToArray","loginError","setLoginError","_useState3","_useState4","title","setTitle","_useState5","_useState6","content","setContent","navigate","handleGoBack","_useParams","id","fetchPost","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","accessToken","refreshToken","response","postData","wrap","_callee$","_context","prev","next","localStorage","getItem","console","log","get","concat","headers","sent","status","data","error","t0","stop","apply","arguments","style","height","marginTop","children","fluid","onClick","position","left","top","border","Header","fontSize","Body","Text","dangerouslySetInnerHTML","__html"],"sources":["C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/src/components/Board/DetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Container, Card } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from '../Request/RequestConfig.js';\r\n\r\n\r\n\r\nexport default function Detail() {\r\n    const [loginError, setLoginError] = useState('');\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const handleGoBack = () => {\r\n        navigate(-1); // 뒤로가기 버튼을 누를 때 이전 페이지로 이동\r\n    };\r\n\r\n\r\n    // 게시글 ID를 URL 파라미터로부터 추출합니다.\r\n    const { id } = useParams();\r\n\r\n    const fetchPost = async () => {\r\n        try {\r\n            const accessToken = localStorage.getItem('accessToken');\r\n            const refreshToken = localStorage.getItem('refreshToken');\r\n            console.log(accessToken);\r\n            console.log(refreshToken);\r\n\r\n            if (accessToken && refreshToken) {\r\n                const response = await axios.get(`/auth/shop/${id}`, {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer ${accessToken}`,\r\n                        'RefreshToken': `Bearer ${refreshToken}`,\r\n                    },\r\n                });\r\n\r\n                if (response.status == 200) {\r\n                    const postData = await response.data;\r\n                    console.log(postData.data);\r\n                    setTitle(postData.data.title);\r\n                    setContent(postData.data.content);\r\n                } else {\r\n                    console.error('게시글을 가져오는데 실패했습니다.');\r\n                }\r\n            } else {\r\n                setLoginError('인증되지않은 유저는 접근할 수 없습니다.'); // 로그인되지 않은 경우 처리\r\n            }\r\n        } catch (error) {\r\n            console.error('인증되지 않은 사용자가 접근하려 합니다..', error);\r\n            setLoginError('인증된 유저만 접근 가능합니다.');\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        fetchPost(); // 컴포넌트가 마운트될 때(fetchPost()의 의존성 배열이 빈 배열) fetchPost 함수를 호출합니다.\r\n    }, []);\r\n    return (\r\n        <div style={{ height: '100vh', marginTop: '50px' }}>\r\n            <Container fluid>\r\n                <button onClick={handleGoBack} style={{ position: 'absolute', left: '10px', top: '70px' }}>\r\n                    뒤로가기\r\n                </button>\r\n                <Card border=\"primary\">\r\n                    <Card.Header style={{ height: 'calc(8vh - 10px)', fontSize: '30px' }}>{title}</Card.Header>\r\n                    <Card.Body style={{ height: 'calc(100vh - 50px)' }}>\r\n                        <Card.Text dangerouslySetInnerHTML={{ __html: content }} />\r\n                    </Card.Body>\r\n                </Card>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"8jBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,SAAS,CAAEC,IAAI,KAAQ,iBAAiB,CACjD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAIhD,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC7B,IAAAC,SAAA,CAAoCZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAA0BjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAA8BrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAnCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,GAAM,CAAAG,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAqB,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACvBD,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAE;AAClB,CAAC,CAGD;AACA,IAAAE,UAAA,CAAezB,SAAS,CAAC,CAAC,CAAlB0B,EAAE,CAAAD,UAAA,CAAFC,EAAE,CAEV,GAAM,CAAAC,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,WAAA,CAAAC,YAAA,CAAAC,QAAA,CAAAC,QAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEJP,WAAW,CAAGS,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CACjDT,YAAY,CAAGQ,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CACzDC,OAAO,CAACC,GAAG,CAACZ,WAAW,CAAC,CACxBW,OAAO,CAACC,GAAG,CAACX,YAAY,CAAC,CAAC,KAEtBD,WAAW,EAAIC,YAAY,GAAAK,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAE,IAAA,SACJ,CAAArC,KAAK,CAAC0C,GAAG,eAAAC,MAAA,CAAerB,EAAE,EAAI,CACjDsB,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,eAAe,WAAAD,MAAA,CAAYd,WAAW,CAAE,CACxC,cAAc,WAAAc,MAAA,CAAYb,YAAY,CAC1C,CACJ,CAAC,CAAC,QANIC,QAAQ,CAAAI,QAAA,CAAAU,IAAA,MAQVd,QAAQ,CAACe,MAAM,EAAI,GAAG,GAAAX,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAE,IAAA,UACC,CAAAN,QAAQ,CAACgB,IAAI,SAA9Bf,QAAQ,CAAAG,QAAA,CAAAU,IAAA,CACdL,OAAO,CAACC,GAAG,CAACT,QAAQ,CAACe,IAAI,CAAC,CAC1BjC,QAAQ,CAACkB,QAAQ,CAACe,IAAI,CAAClC,KAAK,CAAC,CAC7BK,UAAU,CAACc,QAAQ,CAACe,IAAI,CAAC9B,OAAO,CAAC,CAACkB,QAAA,CAAAE,IAAA,kBAElCG,OAAO,CAACQ,KAAK,CAAC,oBAAoB,CAAC,CAAC,QAAAb,QAAA,CAAAE,IAAA,kBAGxC3B,aAAa,CAAC,wBAAwB,CAAC,CAAE;AAAA,QAAAyB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAc,EAAA,CAAAd,QAAA,aAG7CK,OAAO,CAACQ,KAAK,CAAC,yBAAyB,CAAAb,QAAA,CAAAc,EAAO,CAAC,CAC/CvC,aAAa,CAAC,mBAAmB,CAAC,CAAC,yBAAAyB,QAAA,CAAAe,IAAA,MAAAtB,OAAA,iBAE1C,kBA/BK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAA2B,KAAA,MAAAC,SAAA,OA+Bd,CAGDzD,SAAS,CAAC,UAAM,CACZ4B,SAAS,CAAC,CAAC,CAAE;AACjB,CAAC,CAAE,EAAE,CAAC,CACN,mBACIrB,IAAA,QAAKmD,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAO,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,cAC/CpD,KAAA,CAACP,SAAS,EAAC4D,KAAK,MAAAD,QAAA,eACZtD,IAAA,WAAQwD,OAAO,CAAEtC,YAAa,CAACiC,KAAK,CAAE,CAAEM,QAAQ,CAAE,UAAU,CAAEC,IAAI,CAAE,MAAM,CAAEC,GAAG,CAAE,MAAO,CAAE,CAAAL,QAAA,CAAC,0BAE3F,CAAQ,CAAC,cACTpD,KAAA,CAACN,IAAI,EAACgE,MAAM,CAAC,SAAS,CAAAN,QAAA,eAClBtD,IAAA,CAACJ,IAAI,CAACiE,MAAM,EAACV,KAAK,CAAE,CAAEC,MAAM,CAAE,kBAAkB,CAAEU,QAAQ,CAAE,MAAO,CAAE,CAAAR,QAAA,CAAE3C,KAAK,CAAc,CAAC,cAC3FX,IAAA,CAACJ,IAAI,CAACmE,IAAI,EAACZ,KAAK,CAAE,CAAEC,MAAM,CAAE,oBAAqB,CAAE,CAAAE,QAAA,cAC/CtD,IAAA,CAACJ,IAAI,CAACoE,IAAI,EAACC,uBAAuB,CAAE,CAAEC,MAAM,CAAEnD,OAAQ,CAAE,CAAE,CAAC,CACpD,CAAC,EACV,CAAC,EACA,CAAC,CACX,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}