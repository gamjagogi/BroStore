{"ast":null,"code":"var _jsxFileName = \"C:\\\\OneDrive - 84913\\\\OneDrive\\\\study material\\\\workspace\\\\3.MACRO_STORE\\\\hjstore\\\\src\\\\frontmain\\\\reactfront\\\\src\\\\screens\\\\product\\\\SoftwareData.js\";\nimport React, { lazy, Component, useState, useEffect } from \"react\";\nimport { data } from \"../../data\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTh, faBars } from \"@fortawesome/free-solid-svg-icons\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"../Request/RequestConfig\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Paging = /*#__PURE__*/lazy(_c = () => import(\"../../components/Paging\"));\n_c2 = Paging;\nconst Breadcrumb = /*#__PURE__*/lazy(_c3 = () => import(\"../../components/Breadcrumb\"));\n_c4 = Breadcrumb;\nconst FilterCategory = /*#__PURE__*/lazy(_c5 = () => import(\"../../components/filter/Category\"));\n_c6 = FilterCategory;\nconst FilterPrice = /*#__PURE__*/lazy(_c7 = () => import(\"../../components/filter/Price\"));\n_c8 = FilterPrice;\nconst FilterStar = /*#__PURE__*/lazy(_c9 = () => import(\"../../components/filter/Star\"));\n_c10 = FilterStar;\nconst CardServices = /*#__PURE__*/lazy(_c11 = () => import(\"../../components/card/CardServices\"));\n_c12 = CardServices;\nconst CardProductGrid = /*#__PURE__*/lazy(_c13 = () => import(\"../../components/card/CardProductGrid\"));\n_c14 = CardProductGrid;\nconst CardProductList = /*#__PURE__*/lazy(_c15 = () => import(\"../../components/card/CardProductList\"));\n_c16 = CardProductList;\nclass ProductListView extends Component {\n  constructor() {\n    var _s = $RefreshSig$();\n    super(...arguments);\n    this.state = {\n      currentProducts: [],\n      currentPage: null,\n      totalPages: null,\n      totalItems: 0,\n      view: \"list\"\n    };\n    this.onPageChanged = page => {\n      let products = this.state.allProducts;\n      const {\n        currentPage,\n        totalPages,\n        pageLimit\n      } = page;\n      const offset = (currentPage - 1) * pageLimit;\n      const currentProducts = products.slice(offset, offset + pageLimit);\n      this.setState({\n        currentPage,\n        currentProducts,\n        totalPages\n      });\n    };\n    this.onChangeView = view => {\n      this.setState({\n        view\n      });\n    };\n    this.SoftwareData = _s(async () => {\n      _s();\n      const [loginError, setLoginError] = useState('');\n      const [boardPG, setBoardPG] = useState({\n        content: []\n      });\n      const navigate = useNavigate();\n      const boardData = productList => {\n        return productList.map(currentProduct => {\n          const newData = {\n            id: currentProduct.id,\n            sku: \"FAS-01\",\n            link: currentProduct.link,\n            title: currentProduct.title,\n            img: currentProduct.content.thumbnail,\n            price: currentProduct.content.price,\n            originPrice: currentProduct.content.originPrice,\n            discountPrice: currentProduct.content.discountPrice,\n            discountPercentage: currentProduct.content.discountPercentage,\n            isNew: currentProduct.content.isNew,\n            isHot: currentProduct.content.isHot,\n            star: currentProduct.content.star,\n            isFreeShipping: currentProduct.content.isFreeShipping,\n            description: currentProduct.content.content\n          };\n          setBoardPG(prevData => [...prevData, newData]);\n        });\n      };\n      try {\n        const accessToken = localStorage.getItem('accessToken');\n        const refreshToken = localStorage.getItem('refreshToken');\n        if (accessToken && refreshToken) {\n          const response = await axios.get('/auth/software', {\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${accessToken}`,\n              'RefreshToken': `Bearer ${refreshToken}`\n            }\n          });\n          if (response.status === 200) {\n            const data = await response.data;\n            console.log(data);\n            boardData(data);\n            const totalItems = data.length;\n            const allProducts = data.concat(data);\n            this.setState({\n              totalItems,\n              allProducts\n            });\n            this.onPageChanged({\n              currentPage: 1,\n              totalPages: 1,\n              pageLimit: 9\n            });\n          } else {\n            setLoginError('인증된 유저만 접근 가능합니다.');\n          }\n        } else {\n          setLoginError('로그인이 필요합니다.');\n        }\n      } catch (error) {\n        console.error('인증되지 않은 사용자가 접근하려 합니다..', error);\n        setLoginError('인증된 유저만 접근 가능합니다.');\n      }\n    }, \"Dxz64Ezq5MBZfLlah42NAsOw9RU=\", false, function () {\n      return [useNavigate];\n    });\n    this.getProducts = async () => {\n      await this.SoftwareData(); // await 키워드로 비동기 함수 호출\n    };\n  }\n  UNSAFE_componentWillMount() {\n    this.getProducts();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default ProductListView;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"Paging$lazy\");\n$RefreshReg$(_c2, \"Paging\");\n$RefreshReg$(_c3, \"Breadcrumb$lazy\");\n$RefreshReg$(_c4, \"Breadcrumb\");\n$RefreshReg$(_c5, \"FilterCategory$lazy\");\n$RefreshReg$(_c6, \"FilterCategory\");\n$RefreshReg$(_c7, \"FilterPrice$lazy\");\n$RefreshReg$(_c8, \"FilterPrice\");\n$RefreshReg$(_c9, \"FilterStar$lazy\");\n$RefreshReg$(_c10, \"FilterStar\");\n$RefreshReg$(_c11, \"CardServices$lazy\");\n$RefreshReg$(_c12, \"CardServices\");\n$RefreshReg$(_c13, \"CardProductGrid$lazy\");\n$RefreshReg$(_c14, \"CardProductGrid\");\n$RefreshReg$(_c15, \"CardProductList$lazy\");\n$RefreshReg$(_c16, \"CardProductList\");","map":{"version":3,"names":["React","lazy","Component","useState","useEffect","data","FontAwesomeIcon","faTh","faBars","useNavigate","axios","jsxDEV","_jsxDEV","Paging","_c","_c2","Breadcrumb","_c3","_c4","FilterCategory","_c5","_c6","FilterPrice","_c7","_c8","FilterStar","_c9","_c10","CardServices","_c11","_c12","CardProductGrid","_c13","_c14","CardProductList","_c15","_c16","ProductListView","constructor","_s","$RefreshSig$","arguments","state","currentProducts","currentPage","totalPages","totalItems","view","onPageChanged","page","products","allProducts","pageLimit","offset","slice","setState","onChangeView","SoftwareData","loginError","setLoginError","boardPG","setBoardPG","content","navigate","boardData","productList","map","currentProduct","newData","id","sku","link","title","img","thumbnail","price","originPrice","discountPrice","discountPercentage","isNew","isHot","star","isFreeShipping","description","prevData","accessToken","localStorage","getItem","refreshToken","response","get","headers","status","console","log","length","concat","error","getProducts","UNSAFE_componentWillMount","render","Fragment","fileName","_jsxFileName","lineNumber","columnNumber","$RefreshReg$"],"sources":["C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/src/screens/product/SoftwareData.js"],"sourcesContent":["import React, { lazy, Component, useState, useEffect } from \"react\";\r\nimport { data } from \"../../data\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTh, faBars } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"../Request/RequestConfig\";\r\n\r\nconst Paging = lazy(() => import(\"../../components/Paging\"));\r\nconst Breadcrumb = lazy(() => import(\"../../components/Breadcrumb\"));\r\nconst FilterCategory = lazy(() => import(\"../../components/filter/Category\"));\r\nconst FilterPrice = lazy(() => import(\"../../components/filter/Price\"));\r\nconst FilterStar = lazy(() => import(\"../../components/filter/Star\"));\r\nconst CardServices = lazy(() => import(\"../../components/card/CardServices\"));\r\nconst CardProductGrid = lazy(() => import(\"../../components/card/CardProductGrid\"));\r\nconst CardProductList = lazy(() => import(\"../../components/card/CardProductList\"));\r\n\r\nclass ProductListView extends Component {\r\n    state = {\r\n        currentProducts: [],\r\n        currentPage: null,\r\n        totalPages: null,\r\n        totalItems: 0,\r\n        view: \"list\",\r\n    };\r\n\r\n    UNSAFE_componentWillMount() {\r\n        this.getProducts();\r\n    }\r\n\r\n    onPageChanged = (page) => {\r\n        let products = this.state.allProducts;\r\n        const { currentPage, totalPages, pageLimit } = page;\r\n        const offset = (currentPage - 1) * pageLimit;\r\n        const currentProducts = products.slice(offset, offset + pageLimit);\r\n        this.setState({ currentPage, currentProducts, totalPages });\r\n    };\r\n\r\n    onChangeView = (view) => {\r\n        this.setState({ view });\r\n    };\r\n\r\n    SoftwareData = async () => {\r\n        const [loginError, setLoginError] = useState('');\r\n        const [boardPG, setBoardPG] = useState({ content: [] });\r\n        const navigate = useNavigate();\r\n\r\n        const boardData = (productList) => {\r\n            return productList.map((currentProduct) => {\r\n                const newData = {\r\n                    id: currentProduct.id,\r\n                    sku: \"FAS-01\",\r\n                    link: currentProduct.link,\r\n                    title: currentProduct.title,\r\n                    img: currentProduct.content.thumbnail,\r\n                    price: currentProduct.content.price,\r\n                    originPrice: currentProduct.content.originPrice,\r\n                    discountPrice: currentProduct.content.discountPrice,\r\n                    discountPercentage: currentProduct.content.discountPercentage,\r\n                    isNew: currentProduct.content.isNew,\r\n                    isHot: currentProduct.content.isHot,\r\n                    star: currentProduct.content.star,\r\n                    isFreeShipping: currentProduct.content.isFreeShipping,\r\n                    description: currentProduct.content.content,\r\n                };\r\n                setBoardPG((prevData) => [...prevData, newData]);\r\n            });\r\n        };\r\n\r\n        try {\r\n            const accessToken = localStorage.getItem('accessToken');\r\n            const refreshToken = localStorage.getItem('refreshToken');\r\n\r\n            if (accessToken && refreshToken) {\r\n                const response = await axios.get('/auth/software', {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer ${accessToken}`,\r\n                        'RefreshToken': `Bearer ${refreshToken}`,\r\n                    },\r\n                });\r\n\r\n                if (response.status === 200) {\r\n                    const data = await response.data;\r\n                    console.log(data);\r\n                    boardData(data);\r\n                    const totalItems = data.length;\r\n                    const allProducts = data.concat(data);\r\n                    this.setState({ totalItems, allProducts });\r\n                    this.onPageChanged({ currentPage: 1, totalPages: 1, pageLimit: 9 });\r\n                } else {\r\n                    setLoginError('인증된 유저만 접근 가능합니다.');\r\n                }\r\n            } else {\r\n                setLoginError('로그인이 필요합니다.');\r\n            }\r\n        } catch (error) {\r\n            console.error('인증되지 않은 사용자가 접근하려 합니다..', error);\r\n            setLoginError('인증된 유저만 접근 가능합니다.');\r\n        }\r\n    };\r\n\r\n    getProducts = async () => {\r\n        await this.SoftwareData(); // await 키워드로 비동기 함수 호출\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                {/* ... */}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductListView;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}