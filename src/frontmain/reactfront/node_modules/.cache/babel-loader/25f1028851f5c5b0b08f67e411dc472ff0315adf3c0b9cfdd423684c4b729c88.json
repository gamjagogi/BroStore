{"ast":null,"code":"import _regeneratorRuntime from\"C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Form,Button,Alert}from'react-bootstrap';import{useNavigate}from'react-router-dom';import axios from'../Request/RequestConfig.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var JoinPage=function JoinPage(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),username=_useState8[0],setUsername=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),birth=_useState10[0],setBirth=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),passwordMismatch=_useState12[0],setPasswordMismatch=_useState12[1];useEffect(function(){// 비밀번호 일치 여부 확인\nsetPasswordMismatch(password!==confirmPassword);},[password,confirmPassword]);var handleJoin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var emailRegex,nameRegex,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// 이메일 형식 확인\nemailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(emailRegex.test(email)){_context.next=4;break;}return _context.abrupt(\"return\");case 4:if(!(password!==confirmPassword)){_context.next=6;break;}return _context.abrupt(\"return\");case 6:// 이름이 한글인지 확인\nnameRegex=/^[가-힣]+$/;if(nameRegex.test(username)){_context.next=9;break;}return _context.abrupt(\"return\");case 9:_context.prev=9;_context.next=12;return axios.post('/join',JSON.stringify({email:email,password:password,username:username,birth:birth}),{headers:{'Content-Type':'application/json'}});case 12:response=_context.sent;if(response.status==200){navigate('/login');}else{// 실패 처리 로직\n}_context.next=18;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](9);case 18:case\"end\":return _context.stop();}},_callee,null,[[9,16]]);}));return function handleJoin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleJoin,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email \\uC8FC\\uC18C\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicConfirmPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Confirm Password\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}}),passwordMismatch&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:\"\\uBE44\\uBC00\\uBC88\\uD638\\uC640 \\uD655\\uC778 \\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"\\uC774\\uB984\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicBirth\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uC0DD\\uB144\\uC6D4\\uC77C\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",placeholder:\"\\uC0DD\\uB144\\uC6D4\\uC77C\",value:birth,onChange:function onChange(e){return setBirth(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})]});};export default JoinPage;","map":{"version":3,"names":["React","useState","useEffect","Form","Button","Alert","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","JoinPage","navigate","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","confirmPassword","setConfirmPassword","_useState7","_useState8","username","setUsername","_useState9","_useState10","birth","setBirth","_useState11","_useState12","passwordMismatch","setPasswordMismatch","handleJoin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","emailRegex","nameRegex","response","wrap","_callee$","_context","prev","next","preventDefault","test","abrupt","post","JSON","stringify","headers","sent","status","t0","stop","_x","apply","arguments","children","onSubmit","Group","controlId","Label","Control","type","placeholder","value","onChange","target","variant"],"sources":["C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/src/components/Join/JoinPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Form, Button, Alert } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from '../Request/RequestConfig.js';\r\n\r\nconst JoinPage = () => {\r\n    const navigate = useNavigate();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [birth, setBirth] = useState('');\r\n    const [passwordMismatch, setPasswordMismatch] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n        // 비밀번호 일치 여부 확인\r\n        setPasswordMismatch(password !== confirmPassword);\r\n    }, [password, confirmPassword]);\r\n\r\n    const handleJoin = async (e) => {\r\n        e.preventDefault();\r\n\r\n        // 이메일 형식 확인\r\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        if (!emailRegex.test(email)) {\r\n            // 이메일 형식이 올바르지 않음\r\n            return;\r\n        }\r\n\r\n        // 비밀번호 일치 여부 확인\r\n        if (password !== confirmPassword) {\r\n            // 비밀번호 불일치\r\n            return;\r\n        }\r\n\r\n        // 이름이 한글인지 확인\r\n        const nameRegex = /^[가-힣]+$/;\r\n        if (!nameRegex.test(username)) {\r\n            // 이름이 한글이 아님\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await axios.post('/join', JSON.stringify({ email, password, username, birth }),{\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n\r\n            if (response.status == 200) {\r\n                navigate('/login');\r\n            } else {\r\n                // 실패 처리 로직\r\n            }\r\n        } catch (error) {\r\n            // 오류 처리 로직\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>회원가입</h1>\r\n            <Form onSubmit={handleJoin}>\r\n                <Form.Group controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email 주소</Form.Label>\r\n                    <Form.Control\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formBasicPassword\">\r\n                    <Form.Label>비밀번호</Form.Label>\r\n                    <Form.Control\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formBasicConfirmPassword\">\r\n                    <Form.Label>비밀번호 확인</Form.Label>\r\n                    <Form.Control\r\n                        type=\"password\"\r\n                        placeholder=\"Confirm Password\"\r\n                        value={confirmPassword}\r\n                        onChange={(e) => setConfirmPassword(e.target.value)}\r\n                    />\r\n                    {passwordMismatch && (\r\n                        <Alert variant=\"danger\">\r\n                            비밀번호와 확인 비밀번호가 일치하지 않습니다.\r\n                        </Alert>\r\n                    )}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formBasicName\">\r\n                    <Form.Label>이름</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"이름\"\r\n                        value={username}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formBasicBirth\">\r\n                    <Form.Label>생년월일</Form.Label>\r\n                    <Form.Control\r\n                        type=\"date\"\r\n                        placeholder=\"생년월일\"\r\n                        value={birth}\r\n                        onChange={(e) => setBirth(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    회원가입\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default JoinPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}