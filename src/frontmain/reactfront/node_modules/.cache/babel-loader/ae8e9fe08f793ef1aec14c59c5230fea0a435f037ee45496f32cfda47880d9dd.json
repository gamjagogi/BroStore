{"ast":null,"code":"import _slicedToArray from\"C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Card from\"react-bootstrap/Card\";import Button from\"react-bootstrap/Button\";import{useNavigate,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserHeader=function UserHeader(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoggedIn=_useState2[0],setIsLoggedIn=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userName=_useState4[0],setUserName=_useState4[1];var userDataString=sessionStorage.getItem('userData');var userData=userDataString?JSON.parse(userDataString):null;var navigate=useNavigate();var location=useLocation();// 로그인 상태 변경 함수\nvar handleLogin=function handleLogin(){navigate('/login');};// 로그아웃 상태 변경 함수\nvar handleLogout=function handleLogout(){setIsLoggedIn(false);setUserName('');sessionStorage.removeItem('userData');localStorage.removeItem('accessToken');localStorage.removeItem('refreshToken');};useEffect(function(){if(userData){setIsLoggedIn(true);setUserName(userData.username);}},[userData]);return/*#__PURE__*/_jsx(\"header\",{children:isLoggedIn?/*#__PURE__*/_jsxs(Card,{style:{width:'300px',height:'100px'},children:[/*#__PURE__*/_jsx(Card.Header,{style:{fontSize:'16px',padding:'2px'},children:\"\\uD68C\\uC6D0\"}),/*#__PURE__*/_jsxs(Card.Body,{style:{fontSize:'14px',padding:'2px'},children:[/*#__PURE__*/_jsxs(Card.Title,{style:{fontSize:'18px',marginBottom:'8px'},children:[\"\\uC548\\uB155\\uD558\\uC138\\uC694, \",userName,\"\\uB2D8 \"]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"sm\",onClick:handleLogout,children:\" \\uB85C\\uADF8\\uC544\\uC6C3 \"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"sm\",style:{marginLeft:'30px'},children:\" \\uD68C\\uC6D0 \\uC815\\uBCF4 \\uC218\\uC815 \"})]})]}):/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Button,{onClick:handleLogin,children:\"\\uB85C\\uADF8\\uC778\"})})});};export default UserHeader;","map":{"version":3,"names":["React","useState","useEffect","Card","Button","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","UserHeader","_useState","_useState2","_slicedToArray","isLoggedIn","setIsLoggedIn","_useState3","_useState4","userName","setUserName","userDataString","sessionStorage","getItem","userData","JSON","parse","navigate","location","handleLogin","handleLogout","removeItem","localStorage","username","children","style","width","height","Header","fontSize","padding","Body","Title","marginBottom","variant","size","onClick","marginLeft"],"sources":["C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/src/components/Navbar/UserHeader.js"],"sourcesContent":["import React, {useState, useEffect } from 'react';\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport {useNavigate, useLocation } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\nconst UserHeader = () => {\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [userName, setUserName] = useState('');\r\n    const userDataString = sessionStorage.getItem('userData');\r\n    const userData = userDataString ? JSON.parse(userDataString) : null;\r\n\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n\r\n    // 로그인 상태 변경 함수\r\n    const handleLogin = () => {\r\n        navigate('/login');\r\n    };\r\n\r\n    // 로그아웃 상태 변경 함수\r\n    const handleLogout = () => {\r\n        setIsLoggedIn(false);\r\n        setUserName('');\r\n        sessionStorage.removeItem('userData');\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (userData) {\r\n            setIsLoggedIn(true);\r\n            setUserName(userData.username);\r\n\r\n        }\r\n    }, [userData]);\r\n\r\n\r\n\r\n\r\n\r\n    return (<header>\r\n        {isLoggedIn ? (<Card style={{width: '300px', height: '100px'}}>\r\n            <Card.Header style={{fontSize: '16px', padding: '2px'}}>회원</Card.Header>\r\n            <Card.Body style={{fontSize: '14px', padding: '2px'}}>\r\n                <Card.Title style={{fontSize: '18px', marginBottom: '8px'}}>안녕하세요, { userName }님 </Card.Title>\r\n                <Button variant=\"primary\" size=\"sm\" onClick={handleLogout}> 로그아웃 </Button>\r\n                <Button variant=\"primary\" size=\"sm\" style={{marginLeft: '30px'}}> 회원 정보 수정 </Button>\r\n            </Card.Body>\r\n        </Card>) : (<Card>\r\n            <Button onClick={handleLogin}>로그인</Button>\r\n        </Card>)}\r\n    </header>);\r\n};\r\n\r\nexport default UserHeader;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}