{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _regeneratorRuntime from\"C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import ReactQuill from'react-quill';import'react-quill/dist/quill.snow.css';import{useRef,useMemo}from'react';import axios from'../Request/RequestConfig.js';import AWS from'aws-sdk';import{v4 as uuidv4}from'uuid';import{Button,Dropdown,ListGroup}from\"react-bootstrap\";import{Editor}from\"../Styles/Editorform/Editor.style\";import Card from\"react-bootstrap/Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostEditor(){var quillRef=useRef(null);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),thumbnail=_useState6[0],setThumbnail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),thumbnails=_useState8[0],setThumbnails=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),loginError=_useState10[0],setLoginError=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),imageSrc=_useState12[0],setImageSrc=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),index=_useState14[0],setIndex=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),urls=_useState16[0],setUrls=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),updatedDomArray=_useState18[0],setUpdatedDomArray=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),deleted=_useState20[0],setDeleted=_useState20[1];var navigate=useNavigate();// 이미지 편집기에 추가 로직 *************************************v\nvar imageHandler=function imageHandler(){var input=document.createElement('input');input.setAttribute('type','file');input.setAttribute('accept','image/*');input.click();input.addEventListener('change',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var ACCESS_KEY,SECRET_ACCESS_KEY,REGION,S3_BUCKET,uuid,file,fileName,ReactS3Client,params;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:ACCESS_KEY='AKIAUM5SAFCTKG4Z2PGC';SECRET_ACCESS_KEY='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';REGION=\"ap-northeast-2\";S3_BUCKET='image-gamja';uuid=uuidv4();file=input.files[0];fileName=file.name;// AWS ACCESS KEY를 세팅합니다.\nAWS.config.update({accessKeyId:ACCESS_KEY,secretAccessKey:SECRET_ACCESS_KEY});// 버킷에 맞는 이름과 리전을 설정합니다.\nReactS3Client=new AWS.S3({params:{Bucket:S3_BUCKET},region:REGION});// 파일과 파일이름을 넘겨주면 됩니다.\nparams={ACL:'public-read',Body:file,Bucket:S3_BUCKET,Key:file.name};ReactS3Client.putObject(params).on('httpUploadProgress',function(evt){alert(\"SUCCESS\");}).send(function(err,data){if(err){console.error('업로드 오류:',err);alert('error');}else{var Bucket=params.Bucket,Key=params.Key;// params 객체에서 Bucket과 Key를 추출합니다.\nvar imageUrl=\"https://\".concat(Bucket,\".s3.amazonaws.com/\").concat(Key);// 이미지의 위치(URL)을 구성합니다.\nconsole.log('업로드 완료. 이미지 위치:',imageUrl);// 여기서 Quill 편집기 폼에 이미지를 출력하는 로직을 실행할 수 있습니다.\nvar editor=quillRef.current.getEditor();//커서 위치 받아오기 위함.\nvar range=editor.getSelection(true);editor.insertEmbed(range.index,'image',\"\".concat(imageUrl));console.log(range.index);setIndex(range.index);// 이미지소스 변수에 저장\nsetImageSrc(imageUrl);// 이미지 업로드 후 커서 이미지 한칸 옆으로 이동.\neditor.setSelection(range.index+1);}});case 11:case\"end\":return _context.stop();}},_callee);})));};// ***********************************************************^\n// 모듈 및, aws s3 연결 로직 *******************************v\nvar modules=useMemo(function(){return{toolbar:{container:[[{'header':[1,2,3,4,5,6,false]}],[{'font':[]}],[{'align':[]}],['bold','italic','underline','strike','blockquote'],[{'list':'ordered'},{'list':'bullet'},'link'],[{'color':['#000000','#e60000','#ff9900','#ffff00','#008a00','#0066cc','#9933ff','#ffffff','#facccc','#ffebcc','#ffffcc','#cce8cc','#cce0f5','#ebd6ff','#bbbbbb','#f06666','#ffc266','#ffff66','#66b966','#66a3e0','#c285ff','#888888','#a10000','#b26b00','#b2b200','#006100','#0047b2','#6b24b2','#444444','#5c0000','#663d00','#666600','#003700','#002966','#3d1466','custom-color']},{'background':[]}],['image','video'],['clean'],[{'custom-button':'<i class=\"fas fa-bold\"></i>'}]],handlers:{image:imageHandler}},clipboard:{matchVisual:false}};},[]);var formats=['header','font','size','bold','italic','underline','strike','blockquote','list','bullet','align','image','div'];var onChangeTitle=function onChangeTitle(event){var newTitle=event.target.value;if(newTitle.length<=60){setTitle(newTitle);}else{// 팝업을 띄우는 로직을 추가하거나 원하는 작업을 수행합니다.\n// 예시: alert을 사용하여 팝업을 띄움\nalert('제목은 60자 이하여야 합니다.');}};var onChangeContent=function onChangeContent(content){setContent(content);};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var accessToken,refreshToken,config,requestData,response,data,errorMessages,errors,_iterator,_step,error;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;accessToken=localStorage.getItem('accessToken');refreshToken=localStorage.getItem('refreshToken');console.log(accessToken);console.log(refreshToken);config={headers:{Authorization:\"Bearer \".concat(accessToken),RefreshToken:\"Bearer \".concat(refreshToken),'Content-Type':'application/json'}};requestData={title:title,content:content};if(thumbnails!==\"\"){requestData.thumbnail=thumbnail;}if(!(accessToken&&refreshToken)){_context2.next=30;break;}// 요청 보내기\nconsole.log(requestData);_context2.next=12;return axios.post('/manager/shop/save',JSON.stringify(requestData),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(accessToken),'RefreshToken':\"Bearer \".concat(refreshToken)}});case 12:response=_context2.sent;if(!(response.status==200)){_context2.next=21;break;}_context2.next=16;return response.data;case 16:data=_context2.sent;console.log(data);// 요청에 대한 응답 처리\nnavigate('/shop');_context2.next=28;break;case 21:_context2.next=23;return response.data;case 23:errorMessages=_context2.sent;console.log(errorMessages.errors);errors=errorMessages.errors;_iterator=_createForOfIteratorHelper(errors);try{for(_iterator.s();!(_step=_iterator.n()).done;){error=_step.value;console.log(error.defaultMessage);alert(error.defaultMessage);}}catch(err){_iterator.e(err);}finally{_iterator.f();}case 28:_context2.next=31;break;case 30:setLoginError('인증 권한을 가진 유저만 접근 가능합니다.');// 로그인되지 않은 경우 처리\ncase 31:_context2.next=37;break;case 33:_context2.prev=33;_context2.t0=_context2[\"catch\"](0);console.error('인증되지 않은 사용자가 접근하려 합니다..',_context2.t0);setLoginError('인증된 유저만 접근 가능합니다.');case 37:case\"end\":return _context2.stop();}},_callee2,null,[[0,33]]);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();// **************************************************************\n//\nvar crolling=function crolling(){var editor=quillRef.current.getEditor();var range=editor.getSelection(true);var contents=editor.getContents();var psUrls=[];// Quill 컨텐츠의 각 블록을 순회하면서 이미지를 찾고, 식별자와 일치하는 이미지를 삭제\ncontents.ops.forEach(function(block){if(block.insert&&block.insert.image){var imageIndex=contents.ops.indexOf(block);var libElement={url:block.insert.image,index:imageIndex};psUrls.push(libElement);}else{setUrls([]);}});console.log(psUrls);return psUrls;};// 이미지 라이브러리 로직 **********************************v\nuseEffect(function(){setUrls(crolling());},[imageSrc,index]);// urls배열의 요소를 하나씩 dom형태로 만들어, updatedDomArray배열에 넣는다. (기존 요소 초기화됨)\nuseEffect(function(){var domArray=[urls.map(function(element){var itemIndex=element.index;var uniqueKey=uuidv4();return/*#__PURE__*/_jsx(ListGroup.Item,{as:\"li\",draggable:\"true\",\"data-log\":\"lib.diplomat\",\"data-index\":itemIndex,children:/*#__PURE__*/_jsxs(Card,{style:{width:'5rem'},children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:element.url}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleDelete(itemIndex);},variant:\"primary\",style:{width:'3rem',fontSize:'11px'},children:\"\\uC0AD\\uC81C\"})})]})},uniqueKey);})];console.log(domArray);setUpdatedDomArray(domArray);},[urls]);// 라이브로 특정 이미지 삭제\nvar handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(itemIndex){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:try{console.log(urls);console.log(itemIndex);// 편집기에서 삭제할 요소 전달\ndeleteImage(itemIndex);}catch(error){console.error('삭제 중 오류 발생.',error);setLoginError('삭제 중 오류가 발생했습니다.');}case 1:case\"end\":return _context3.stop();}},_callee3);}));return function handleDelete(_x){return _ref3.apply(this,arguments);};}();// 이미지 편집기 삭제 로직 **********************************v\n// useEffect(() => {\n//     deleteImage(deleted);\n// }, [deleted]);\nvar deleteImage=function deleteImage(itemIndex){var editor=quillRef.current.getEditor();var range=editor.getSelection(true);var contents=editor.getContents();console.log('에디터');console.log(contents);console.log(itemIndex);// Quill 컨텐츠의 각 블록을 순회하면서 이미지를 찾고, 식별자와 일치하는 이미지를 삭제\ncontents.ops.forEach(function(block){if(block.insert&&block.insert.image){var imageIndex=contents.ops.indexOf(block);console.log('quill내부');if(imageIndex==itemIndex){// 이미지 삭제\neditor.deleteText(contents.ops.indexOf(block),1);console.log('삭제 성공!');}}});setUrls(crolling());};//*********************************************************^\n// 라이브러리 열림,닫힘 초기화\nvar _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),dropdownOpen=_useState22[0],setDropdownOpen=_useState22[1];var toggleDropdown=function toggleDropdown(){setDropdownOpen(!dropdownOpen);};// ******************************************************************^\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',height:'100vh'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:onChangeTitle,placeholder:\"\\uC81C\\uBAA9\",style:{flex:'none',padding:'10px',fontSize:'18px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1',minHeight:'0',padding:'10px',fontSize:'14px',marginBottom:'auto'},children:[/*#__PURE__*/_jsx(ReactQuill,{ref:quillRef,formats:formats,modules:modules,theme:\"snow\",onChange:onChangeContent,style:{flex:'1',minHeight:'0',padding:'10px',fontSize:'14px',width:'100%',height:'80%'}}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:content},style:{display:'none'}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer\",style:{marginTop:'auto',padding:'10px',position:'relative',top:'70px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'flex-end',marginTop:'auto',marginRight:'10px',position:'relative',top:'-200px'},children:/*#__PURE__*/_jsxs(Dropdown,{show:dropdownOpen,onToggle:toggleDropdown,children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{variant:\"primary\",id:\"dropdown-basic-button\",children:\"\\uC0AC\\uC9C4 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\"}),/*#__PURE__*/_jsx(Dropdown.Menu,{show:true,align:\"right\",children:/*#__PURE__*/_jsx(Editor,{children:/*#__PURE__*/_jsx(ListGroup,{as:\"ul\",className:\"se-sidebar-list\",children:updatedDomArray})})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'flex-end',marginTop:'auto',marginRight:'10px',position:'relative',top:'-200px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,style:{marginRight:'10px'},children:\"\\uC644\\uB8CC\"}),/*#__PURE__*/_jsx(\"button\",{style:{},children:\"\\uCDE8\\uC18C\"})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ReactQuill","useRef","useMemo","axios","AWS","v4","uuidv4","Button","Dropdown","ListGroup","Editor","Card","jsx","_jsx","jsxs","_jsxs","PostEditor","quillRef","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","content","setContent","_useState5","_useState6","thumbnail","setThumbnail","_useState7","_useState8","thumbnails","setThumbnails","_useState9","_useState10","loginError","setLoginError","_useState11","_useState12","imageSrc","setImageSrc","_useState13","_useState14","index","setIndex","_useState15","_useState16","urls","setUrls","_useState17","_useState18","updatedDomArray","setUpdatedDomArray","_useState19","_useState20","deleted","setDeleted","navigate","imageHandler","input","document","createElement","setAttribute","click","addEventListener","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ACCESS_KEY","SECRET_ACCESS_KEY","REGION","S3_BUCKET","uuid","file","fileName","ReactS3Client","params","wrap","_callee$","_context","prev","next","files","name","config","update","accessKeyId","secretAccessKey","S3","Bucket","region","ACL","Body","Key","putObject","on","evt","alert","send","err","data","console","error","imageUrl","concat","log","editor","current","getEditor","range","getSelection","insertEmbed","setSelection","stop","modules","toolbar","container","handlers","image","clipboard","matchVisual","formats","onChangeTitle","event","newTitle","target","value","length","onChangeContent","handleSubmit","_ref2","_callee2","accessToken","refreshToken","requestData","response","errorMessages","errors","_iterator","_step","_callee2$","_context2","localStorage","getItem","headers","Authorization","RefreshToken","post","JSON","stringify","sent","status","_createForOfIteratorHelper","s","n","done","defaultMessage","e","f","t0","apply","arguments","crolling","contents","getContents","psUrls","ops","forEach","block","insert","imageIndex","indexOf","libElement","url","push","domArray","map","element","itemIndex","uniqueKey","Item","as","draggable","children","style","width","Img","variant","src","onClick","handleDelete","fontSize","_ref3","_callee3","_callee3$","_context3","deleteImage","_x","deleteText","_useState21","_useState22","dropdownOpen","setDropdownOpen","toggleDropdown","display","flexDirection","height","type","onChange","placeholder","flex","padding","minHeight","marginBottom","ref","theme","dangerouslySetInnerHTML","__html","className","marginTop","position","top","justifyContent","marginRight","show","onToggle","Toggle","id","Menu","align"],"sources":["C:/OneDrive - 84913/OneDrive/study material/workspace/3.MACRO_STORE/hjstore/src/frontmain/reactfront/src/components/Board/PostEditor.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport {useRef, useMemo} from 'react';\r\nimport axios from '../Request/RequestConfig.js';\r\nimport AWS from 'aws-sdk';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport {Button, Dropdown, ListGroup} from \"react-bootstrap\";\r\nimport {Editor} from \"../Styles/Editorform/Editor.style\";\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\n\r\nexport default function PostEditor() {\r\n    const quillRef = useRef(null);\r\n\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [thumbnail, setThumbnail] = useState('');\r\n    const [thumbnails, setThumbnails] = useState('');\r\n    const [loginError, setLoginError] = useState('');\r\n    const [imageSrc, setImageSrc] = useState('');\r\n\r\n    const [index, setIndex] = useState('')\r\n\r\n    const [urls, setUrls] = useState([]);\r\n    const [updatedDomArray, setUpdatedDomArray] = useState([]);\r\n    const [deleted, setDeleted] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n\r\n    // 이미지 편집기에 추가 로직 *************************************v\r\n    const imageHandler = () => {\r\n        const input = document.createElement('input');\r\n        input.setAttribute('type', 'file');\r\n        input.setAttribute('accept', 'image/*');\r\n        input.click();\r\n\r\n        input.addEventListener('change', async () => {\r\n\r\n            const ACCESS_KEY = 'AKIAUM5SAFCTKG4Z2PGC';\r\n            const SECRET_ACCESS_KEY = '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';\r\n            const REGION = \"ap-northeast-2\";\r\n            const S3_BUCKET = 'image-gamja';\r\n            const uuid = uuidv4();\r\n\r\n            const file = input.files[0];\r\n            const fileName = file.name;\r\n\r\n            // AWS ACCESS KEY를 세팅합니다.\r\n            AWS.config.update({\r\n                accessKeyId: ACCESS_KEY,\r\n                secretAccessKey: SECRET_ACCESS_KEY\r\n            });\r\n\r\n            // 버킷에 맞는 이름과 리전을 설정합니다.\r\n            const ReactS3Client = new AWS.S3({\r\n                params: {Bucket: S3_BUCKET},\r\n                region: REGION,\r\n            });\r\n\r\n            // 파일과 파일이름을 넘겨주면 됩니다.\r\n            const params = {\r\n                ACL: 'public-read',\r\n                Body: file,\r\n                Bucket: S3_BUCKET,\r\n                Key: file.name\r\n            };\r\n\r\n            ReactS3Client.putObject(params)\r\n                .on('httpUploadProgress', (evt) => {\r\n                    alert(\"SUCCESS\")\r\n                })\r\n                .send((err, data) => {\r\n                    if (err) {\r\n                        console.error('업로드 오류:', err);\r\n                        alert('error');\r\n                    } else {\r\n\r\n                        const {Bucket, Key} = params; // params 객체에서 Bucket과 Key를 추출합니다.\r\n                        const imageUrl = `https://${Bucket}.s3.amazonaws.com/${Key}`; // 이미지의 위치(URL)을 구성합니다.\r\n                        console.log('업로드 완료. 이미지 위치:', imageUrl);\r\n\r\n\r\n                        // 여기서 Quill 편집기 폼에 이미지를 출력하는 로직을 실행할 수 있습니다.\r\n                        const editor = quillRef.current.getEditor();\r\n                        //커서 위치 받아오기 위함.\r\n                        const range = editor.getSelection(true);\r\n                        editor.insertEmbed(\r\n                            range.index,\r\n                            'image',\r\n                            `${imageUrl}`,\r\n                        );\r\n\r\n                        console.log(range.index);\r\n\r\n                        setIndex(range.index);\r\n                        // 이미지소스 변수에 저장\r\n                        setImageSrc(imageUrl);\r\n\r\n                        // 이미지 업로드 후 커서 이미지 한칸 옆으로 이동.\r\n                        editor.setSelection(range.index + 1);\r\n                    }\r\n                });\r\n        });\r\n    };\r\n    // ***********************************************************^\r\n\r\n\r\n    // 모듈 및, aws s3 연결 로직 *******************************v\r\n    const modules = useMemo(\r\n        () => ({\r\n            toolbar: {\r\n                container: [\r\n                    [{'header': [1, 2, 3, 4, 5, 6, false]}],\r\n                    [{'font': []}],\r\n                    [{'align': []}],\r\n                    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n                    [{'list': 'ordered'}, {'list': 'bullet'}, 'link'],\r\n                    [{'color': ['#000000', '#e60000', '#ff9900', '#ffff00', '#008a00', '#0066cc', '#9933ff', '#ffffff', '#facccc', '#ffebcc', '#ffffcc', '#cce8cc', '#cce0f5', '#ebd6ff', '#bbbbbb', '#f06666', '#ffc266', '#ffff66', '#66b966', '#66a3e0', '#c285ff', '#888888', '#a10000', '#b26b00', '#b2b200', '#006100', '#0047b2', '#6b24b2', '#444444', '#5c0000', '#663d00', '#666600', '#003700', '#002966', '#3d1466', 'custom-color']}, {'background': []}],\r\n                    ['image', 'video'],\r\n                    ['clean'],\r\n                    [{'custom-button': '<i class=\"fas fa-bold\"></i>'}]\r\n                ],\r\n                handlers: {image: imageHandler},\r\n            },\r\n            clipboard: {\r\n                matchVisual: false,\r\n            },\r\n        }),\r\n        [],\r\n    );\r\n\r\n    const formats = [\r\n        'header',\r\n        'font',\r\n        'size',\r\n        'bold',\r\n        'italic',\r\n        'underline',\r\n        'strike',\r\n        'blockquote',\r\n        'list',\r\n        'bullet',\r\n        'align',\r\n        'image',\r\n        'div'\r\n    ];\r\n\r\n\r\n    const onChangeTitle = (event) => {\r\n        const newTitle = event.target.value;\r\n        if (newTitle.length <= 60) {\r\n            setTitle(newTitle);\r\n        } else {\r\n            // 팝업을 띄우는 로직을 추가하거나 원하는 작업을 수행합니다.\r\n            // 예시: alert을 사용하여 팝업을 띄움\r\n            alert('제목은 60자 이하여야 합니다.');\r\n        }\r\n    };\r\n\r\n    const onChangeContent = (content) => {\r\n        setContent(content);\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        try {\r\n            const accessToken = localStorage.getItem('accessToken');\r\n            const refreshToken = localStorage.getItem('refreshToken');\r\n            console.log(accessToken);\r\n            console.log(refreshToken);\r\n\r\n            const config = {\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                    RefreshToken: `Bearer ${refreshToken}`,\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            };\r\n            const requestData = {title, content};\r\n\r\n            if (thumbnails !== \"\") {\r\n                requestData.thumbnail = thumbnail;\r\n            }\r\n\r\n            if (accessToken && refreshToken) {\r\n                // 요청 보내기\r\n                console.log(requestData);\r\n                const response = await axios.post('/manager/shop/save', JSON.stringify(requestData), {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer ${accessToken}`,\r\n                        'RefreshToken': `Bearer ${refreshToken}`,\r\n                    },\r\n                });\r\n\r\n                if (response.status == 200) {\r\n                    // 응답 성공 시 처리할 작업\r\n                    const data = await response.data;\r\n                    console.log(data); // 요청에 대한 응답 처리\r\n                    navigate('/shop');\r\n\r\n                } else {\r\n                    // 응답 실패 시 처리할 작업\r\n                    const errorMessages = await response.data;\r\n                    console.log(errorMessages.errors);\r\n                    const errors = errorMessages.errors;\r\n                    for (const error of errors) {\r\n                        console.log(error.defaultMessage);\r\n                        alert(error.defaultMessage);\r\n                    }\r\n                }\r\n            } else {\r\n                setLoginError('인증 권한을 가진 유저만 접근 가능합니다.'); // 로그인되지 않은 경우 처리\r\n            }\r\n        } catch (error) {\r\n            console.error('인증되지 않은 사용자가 접근하려 합니다..', error);\r\n            setLoginError('인증된 유저만 접근 가능합니다.');\r\n        }\r\n    }\r\n    // **************************************************************\r\n\r\n\r\n    //\r\n    const crolling = () => {\r\n        const editor = quillRef.current.getEditor();\r\n        const range = editor.getSelection(true);\r\n        const contents = editor.getContents();\r\n        const psUrls = [];\r\n        // Quill 컨텐츠의 각 블록을 순회하면서 이미지를 찾고, 식별자와 일치하는 이미지를 삭제\r\n        contents.ops.forEach((block) => {\r\n                if (block.insert && block.insert.image) {\r\n                    const imageIndex = contents.ops.indexOf(block);\r\n                    const libElement = {url: block.insert.image, index: imageIndex};\r\n                    psUrls.push(libElement);\r\n                }else {\r\n                    setUrls([]);\r\n                }\r\n            }\r\n        );\r\n        console.log(psUrls);\r\n        return psUrls;\r\n    };\r\n\r\n\r\n    // 이미지 라이브러리 로직 **********************************v\r\n    useEffect(() => {\r\n        setUrls(crolling());\r\n    }, [imageSrc, index]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // urls배열의 요소를 하나씩 dom형태로 만들어, updatedDomArray배열에 넣는다. (기존 요소 초기화됨)\r\n    useEffect(() => {\r\n        const domArray = [urls.map((element) => {\r\n            const itemIndex = element.index;\r\n            const uniqueKey = uuidv4();\r\n            return (\r\n                <ListGroup.Item\r\n                    as=\"li\"\r\n                    draggable=\"true\"\r\n                    data-log=\"lib.diplomat\"\r\n                    data-index={itemIndex}\r\n                    key={uniqueKey}\r\n                >\r\n                    <Card style={{width: '5rem'}}>\r\n                        <Card.Img variant=\"top\" src={element.url}/>\r\n                        <Card.Body>\r\n                            <Button onClick={() => handleDelete(itemIndex)} variant=\"primary\"\r\n                                    style={{width: '3rem', fontSize: '11px'}}>\r\n                                삭제\r\n                            </Button>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </ListGroup.Item>\r\n            );\r\n        })];\r\n        console.log(domArray);\r\n        setUpdatedDomArray(domArray);\r\n    }, [urls]);\r\n\r\n\r\n    // 라이브로 특정 이미지 삭제\r\n    const handleDelete = async (itemIndex) => {\r\n        try {\r\n            console.log(urls);\r\n            console.log(itemIndex);\r\n            // 편집기에서 삭제할 요소 전달\r\n            deleteImage(itemIndex);\r\n        } catch (error) {\r\n            console.error('삭제 중 오류 발생.', error);\r\n            setLoginError('삭제 중 오류가 발생했습니다.');\r\n        }\r\n    };\r\n\r\n    // 이미지 편집기 삭제 로직 **********************************v\r\n    // useEffect(() => {\r\n    //     deleteImage(deleted);\r\n    // }, [deleted]);\r\n\r\n    const deleteImage = (itemIndex) => {\r\n        const editor = quillRef.current.getEditor();\r\n        const range = editor.getSelection(true);\r\n        const contents = editor.getContents();\r\n        console.log('에디터');\r\n        console.log(contents);\r\n        console.log(itemIndex);\r\n\r\n        // Quill 컨텐츠의 각 블록을 순회하면서 이미지를 찾고, 식별자와 일치하는 이미지를 삭제\r\n        contents.ops.forEach((block) => {\r\n            if (block.insert && block.insert.image ) {\r\n                const imageIndex = contents.ops.indexOf(block);\r\n                console.log('quill내부');\r\n\r\n                if (imageIndex == itemIndex) {\r\n                    // 이미지 삭제\r\n                    editor.deleteText(contents.ops.indexOf(block), 1);\r\n                    console.log('삭제 성공!')\r\n                }\r\n            }\r\n        });\r\n        setUrls(crolling());\r\n    };\r\n    //*********************************************************^\r\n\r\n\r\n    // 라이브러리 열림,닫힘 초기화\r\n    const [dropdownOpen, setDropdownOpen] = useState(false);\r\n\r\n    const toggleDropdown = () => {\r\n        setDropdownOpen(!dropdownOpen);\r\n    };\r\n    // ******************************************************************^\r\n\r\n    return (\r\n        <div style={{display: 'flex', flexDirection: 'column', height: '100vh'}}>\r\n            <input\r\n                type=\"text\"\r\n                value={title}\r\n                onChange={onChangeTitle}\r\n                placeholder=\"제목\"\r\n                style={{flex: 'none', padding: '10px', fontSize: '18px'}}\r\n            />\r\n\r\n\r\n            <div style={{flex: '1', minHeight: '0', padding: '10px', fontSize: '14px', marginBottom: 'auto'}}>\r\n                {/* <ReactQuill/> 컴포넌트를 감싸는 div */}\r\n                <ReactQuill\r\n                    ref={quillRef}\r\n                    formats={formats}\r\n                    modules={modules}\r\n                    theme=\"snow\"\r\n                    onChange={onChangeContent}\r\n                    style={{\r\n                        flex: '1',\r\n                        minHeight: '0',\r\n                        padding: '10px',\r\n                        fontSize: '14px',\r\n                        width: '100%',\r\n                        height: '80%'\r\n                    }}\r\n                />\r\n                <div dangerouslySetInnerHTML={{__html: content}} style={{display: 'none'}}/>\r\n            </div>\r\n            <br/>\r\n            <div className=\"footer\" style={{marginTop: 'auto', padding: '10px', position: 'relative', top: '70px'}}>\r\n                <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'flex-end',\r\n                    marginTop: 'auto',\r\n                    marginRight: '10px',\r\n                    position: 'relative',\r\n                    top: '-200px'\r\n                }}>\r\n                    {/*<ImageLibrary imageSrc={imageSrc} index={index} />*/}\r\n                    <Dropdown show={dropdownOpen} onToggle={toggleDropdown}>\r\n                        <Dropdown.Toggle variant=\"primary\" id=\"dropdown-basic-button\">\r\n                            사진 라이브러리\r\n                        </Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu show={true} align=\"right\">\r\n                            <Editor>\r\n                                <ListGroup as=\"ul\" className=\"se-sidebar-list\">\r\n                                    {updatedDomArray}\r\n                                </ListGroup>\r\n                            </Editor>\r\n                        </Dropdown.Menu>\r\n                    </Dropdown>\r\n                </div>\r\n\r\n                <br/>\r\n                <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'flex-end',\r\n                    marginTop: 'auto',\r\n                    marginRight: '10px',\r\n                    position: 'relative',\r\n                    top: '-200px'\r\n                }}>\r\n                    <button onClick={handleSubmit} style={{marginRight: '10px'}}>완료</button>\r\n                    <button style={{}}>취소</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}